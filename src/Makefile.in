#
SHELL=/bin/sh

@SET_MAKE@

VPATH=@srcdir@
top_srcdir=@top_srcdir@
srcdir=@srcdir@
prefix=@prefix@
exec_prefix=@exec_prefix@
bin_dir=@exec_prefix@/bin
x_includes=@x_includes@
x_libraries=@x_libraries@
scwm_icons=@scwm_icons@
scwm_rc=@scwm_rc@
scwm_name=@scwm_name@
scwm_dir=@scwm_dir@
#
# This is where the modules will be installed


#
# Libs
X_LIBRARY=-lX11 @LIBS@
XEXT_LIBRARY=-lXext
XPM_LIBRARY=-lXpm
SCWM_LIBRARY=-l${scwm_name}
LIBS=-L${top_srcdir}/libs ${x_libraries} ${SCWM_LIBRARY} ${XPM_LIBRARY} ${XEXT_LIBRARY} ${X_LIBRARY}

PATH_DEFINES=-DSCWM_ICONDIR=\"${scwm_icons}\" \
               -DSCWMDIR=\"${scwm_dir}\" \
               -DSCWMRC=\"${scwm_rc}\"

EXTRA_DEFINES=-DXPM -DSHAPE ${PATH_DEFINES} -DACTIVEDOWN_BTNS -DINACTIVE_BTNS -DMINI_ICONS -DVECTOR_BUTTONS -DPIXMAP_BUTTONS -DGRADIENT_BUTTONS -DMULTISTYLE -DEXTENDED_TITLESTYLE -DBORDERSTYLE -DUSEDECOR -DWINDOWSHADE


CC=@CC@
INCLUDES=-I${top_srcdir}/include ${x_includes}
CFLAGS=${INCLUDES} @CFLAGS@ ${EXTRA_DEFINES} 
MAKEDEPEND=@MAKEDEPEND@
INSTALL=@INSTALL@
INSTALL_PROGRAM=@INSTALL_PROGRAM@
RM=@RM@

PROG=${scwm_name}


SRCS = \
	add_window.c \
	borders.c \
	builtins.c \
	colormaps.c \
	colors.c \
	complex.c \
	decorations.c \
	events.c \
	focus.c \
	functions.c \
	scwm.c \
	icons.c \
	menus.c \
	misc.c \
	move.c \
	placement.c \
	resize.c \
	virtual.c \
	scmprocs.c \
	scmtypes.c \
	font.c \
	color.c \
	miscprocs.c \
	binding.c \
	errors.c \
	util.c \
	window.c \
	menu.c \
	paths.c \
	deskpage.c
 
OBJS = \
	add_window.o \
	borders.o \
	builtins.o \
	colormaps.o \
	colors.o \
	complex.o \
	decorations.o \
	events.o \
	focus.o \
	functions.o \
	scwm.o \
	icons.o \
	menus.o \
	misc.o \
	move.o \
	placement.o \
	resize.o \
	virtual.o \
	scmprocs.o \
	scmtypes.o \
	font.o \
	color.o \
	miscprocs.o \
	binding.o \
	errors.o \
	util.o \
	window.o \
	menu.o \
	paths.o \
	deskpage.o

all: ${PROG}

depend:
	${MAKEDEPEND} ${CFLAGS} ${SRCS}

install: all
	${INSTALL_PROGRAM} ${PROG} ${bin_dir}

clean:
	${RM} ${PROG} ${OBJS} *~ core *.bak

distclean: clean


${PROG}: ${OBJS}
	${CC} -o ${PROG} ${OBJS} ${LIBS}

#
