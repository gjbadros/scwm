Sat Oct 25 23:15:40 1997  unknown  <gjb@cs.washington.edu>

	* Added send-button-press for synthetic keypress events like GWM

Sun Oct 26 01:05:27 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* scmprocs.c: Eliminate use of gh_new_procedureX_X; instead use
 	gh_new_procedure throughout, since gh_new_procedureX_X will be
 	going away in guile.

Sat Oct 25 21:42:36 1997  unknown  <gjb@cs.washington.edu>

	* Added extra args to do animated moves to (move-to), also permit
	equivalent movement of the pointer as an option;  added
	AnimatedMoveWindow() to support this, and have it recognize
	"animation-ms-delay" variable; also wrote (set-animation! ..) to
	set the other animation parameters

	* Fix (get-window)/DeferExecution bug

	* Rename sleep_a_little to sleep_ms(), and take ms, not microsecs

	* Updated BUGS, TODO
	

Fri Oct 24 23:31:54 1997  Greg J. Badros  <gjb@cs.washington.edu>

	* Added (unbind-key), (unbind-mouse)

	* Reindent all of the source using indent

	* Clean up all the code so it builds with -Wall, make that the
	default.

	* Fix bugs in key handling -- required a recapture for
	new bindings to be noticed

	* Added gjb.scwmrc, a more full-featured configuration

	* Updated BUGS, added NEEDED (list of features missing)

1997-10-24  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* Makefile.in (mostlyclean): New target.
	(LIBS): Use relative directory to "libs/" for VPATH.
	(INCLUDES): Ditto for "include/".

	* deskpage.c (desk_size): Make result consistent with
	`set-desk-size!'. 

Thu Oct 23 19:54:16 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* Added support for decors as Scheme objects. This includes the
	following changes:

	decor.c, decor.h: new files which implement make-decor, default-decor,
	current-decor, set-current-decor! and set-window-decor!

	scwm.c: wrap the default decor as a nice Scheme object.

	window.c: protect the decor attached to a window from garbage
 	collection in the marker for window.

	scmtypes.c: register the decor type.

	scmprocs.c: register the decor procedures.

	Makefile.in: add decor.c to the build process.

Tue Oct 21 21:03:03 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* window.c: Don't attempt to redraw the border in
 	set-mwm-buttons!; it is now called only on 'new-window-hint, not
 	'new-window because the MWM_BUTTON_FLAG bit clashes with the
 	MAXIMIZE bit.

Mon Oct 20 15:40:48 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* window.c: Changed set-mwm-buttons! to actually set the MWMButton
 	flag, not the MWMBorder flag.

Sat Oct 18 00:04:40 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* miscprocs.c, miscprocs.h, scmprocs.c: Fixed scm-quit to take any
 	number of arguments. Patch from Mikael Djurfeldt <mdj@nada.kth.se>

	* virtual.c: Commented out: changeDesks_func, changeWindowsDesk,
 	scroll, goto_page_func.

	* Makefile.in: Removed bindings.c from the build process.

	* bindings.c: Commented this whole file with #if
 	MS_DELETION_COMMENT

	* window.c: Added another optional argument to get_window which
 	can be used to supress selecting a window.
	
	Added handling to the interactive-move procedure to start moves in
 	the right place.
	
	Changed show_titlebar and hide_titlebar to check the current state
 	of the titlebar before asking.
	
	Added set-lenience! procedure which sets the lenience flag.

Fri Oct 17 19:30:20 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* window.h: Changed header for get_window.

	* scwm.h: Added macros for Broadcast, BroadcastConfig and
 	BroadcastName which do nothing.

	* scwm.c: Commented out several portions of unused code, including
 	the StartupStuff function.

	* windows.c: Commented the whole file; it is gone from the build
 	process.
	
	* style.c: Commented the whole file; it is gone from the build
 	process.

	* resize.c: Comented out the move_window function, which is no
 	longer used.
	
	* move.c: Comented out the move_window function, which is no
 	longer used, and fixed InteractiveMove so that moves are started
 	where the motion begins, not where the mouse cursor is when a move
 	is detected.

	* module.c: Commented out the whole file. It is no longer in the
 	build process so this is redundant, but it is a useful reminder.

	* misc.h: Commented out some of the prototypes for module
 	functions; several have been replaced by macros.

	* menus.c: events.c: Commented out some no longer used code with
 	pairs of "#ifdef MS_DELETION_COMMENT" and "#endif /*
 	MS_DELETION_COMMENT */" for easy removal later. Also explicitly
 	undefined MS_DELETION_COMMENT at the top of the file just in
 	case. One deletion is in HandleKey and HandleButton, where
 	ExecuteFunction used to be called. It is no longer possible for
 	flow control to reach this point, and ExecuteFunction no longer
 	exists. Also, the DestroyMenu function was removed.

	* functions.c: Commented out some no longer used code with pairs
 	of "#ifdef MS_DELETION_COMMENT" and "#endif /* MS_DELETION_COMMENT
 	*/" for easy removal later. Also explicitly undefined
 	MS_DELETION_COMMENT at the top of the file just in case. The
 	function ExecuteFunction and most entries in the func_config array
 	were removed.

	* focus.c: Changed SetFocus to correctly handle windows with a
 	focus style of 'none.

	* events.c: Commented out some no longer used code with pairs of
 	"#ifdef MS_DELETION_COMMENT" and "#endif /* MS_DELETION_COMMENT
 	*/" for easy removal later. Also explicitly undefined
 	MS_DELETION_COMMENT at the top of the file just in case. The two
 	deletions are in HandleKey and HandleButton, where ExecuteFunction
 	used to be called. It is no longer possible for flow control to
 	reach those points, and ExecuteFunction no longer exists.

	* complex.c: Commented out a lot of no longer used code with
        pairs of "#ifdef MS_DELETION_COMMENT" and "#endif /*
        MS_DELETION_COMMENT */" for easy removal later. Also explicitly
        undefined MS_DELETION_COMMENT at the top of the file just in
        case. Functions removed are:

        ComplexFunction,expand

	
	* builtins.c: Commented out a lot of no longer used code with
 	pairs of "#ifdef MS_DELETION_COMMENT" and "#endif /*
 	MS_DELETION_COMMENT */" for easy removal later. Also explicitly
 	undefined MS_DELETION_COMMENT at the top of the file just in
 	case. Functions and variables removed are:
	
	Maximize, WindowShade, Bell, add_item_to_menu, add_another_item,
 	destroy_menu, add_item_to_func, movecursor, iconify_function,
 	raise_function, lower_function, destroy_function, delete_function,
 	close_function, restart_function, exec_setup, strerror,
 	exec_function, refresh_function, refresh_win_function,
 	stick_function, wait_func, focus_func, warp_func, echo_func,
 	raiselower_func, SetEdgeScroll, SetEdgeResistance,
 	SetColormapFocus, SetClick, SetXOR, SetOpaque, SetDeskSize,
 	setPixmapPath, setIconPath, ModulePath, setModulePath, SetHiColor,
 	SetMenuStyle, LoadIconFont, LoadWindowFont, Circulate, PrevFunc,
 	NextFunc, NoneFunc, WindowIdFunc, module_zapper, Reborder.

	* Makefile.in: Added VPATH support.

	* add_window.c: AddWindow: eplace the call to resize_window with a
 	call to interactive_resize since resize_window is gone now.

	* binding.c: find_mouse_event_type: also store the location of the
 	original event for use by interactive moves.

Thu Oct 16 00:36:06 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* Makefile.in: Removed read.c, module.c, windows.c and style.c
 	from the build process.

Tue Oct 14 01:13:59 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* window.c: Added many new procedures to support window styles:
 	set-mwm-buttons!, set-mwm-border!, set-icon!, set-mini-icon!,
 	set-hint-override!, set-decorate-transient!, set-mwm-decor-hint!,
 	set-mwm-func-hint!, set-PPosition-hint!, set-OL-decor-hint!,
 	set-start-on-desk!, set-skip-mapping!

	* miscprocs.c: Added Scheme beep procedure which encapsulates
 	XBell.

	* borders.c: Added SetBorderX and redefined SetBorder in terms of
 	it to allow the border and title to be redrawn correcly on
 	interactive options changes.

	* add_window.c: Made several changes to AddWindow to support
 	Scheme callbacks upon the creation of a new window. Specifically,
 	run_new_window_hint_hook and run_new_window_hook are run at the
 	appropriate places.

	* binding.c: Added the 'new-window-hint event to take care of
	some issues relating to creating new windows and the time at
	which hint settings must be available.

Sun Oct  5 16:20:26 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* window.c: Added many new procedures that should be useful for
 	both style purposes, and in some cases also for binding to
 	interactive commands.  The following have been added: keep-on-top,
 	un-keep-on-top, kept-on-top?, show-titlebar, hide-titlebar,
 	titlebar-shown?, normal-border, plain-border, border-normal?,
 	set-border-width!, stick-icon, unstick-icon, icon-sticky?,
 	set-icon-box!, set-window-focus!, set-window-colors! and
 	set-icon-title!.

	* binding.c: Added bind-event procedure to enable binding hooks
 	for special window manager events. Currently, only the 'new-window
 	event is implemented. Also added the run_new_window_hook()
 	procedure for C to let the code that initially decorates a window
 	do this.

	* add_window.c: AddWindow() - changed to call the new window
 	hook. This will enable handling of style options on window
 	startup.

	* events.c: Changed handling of MapNotify event to deal properly
 	with windows that start out iconified.

Wed Oct  1 21:47:36 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* window.c: Added keep-on-top, un-keep-on-top, and kept-on-top?

Wed Sep 24 16:46:22 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* binding.c,color.c,font.c,miscprocs.c,paths.c,window.c: Changed
 	deferring and allowing of ints to hopefully make things
 	thread-safe.

Mon Sep 22 00:09:43 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* binding.c: Fixed nasty bug; previously forgot to gc-protect the
 	scheme procedure in a mouse binding,

	* binding.c: Corrected mouse bindings for buttons.

Sun Sep 21 09:22:26 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* window.c: Implemented select-window. This means that window
 	operations off of root menus and such should be happy.

	* window.c: Renamed get-window-position, get-window-size,
 	get-window-id, get-window-desk, get-window-title and
 	get-window-list to window-position, window-size, window-id,
 	window-desk, window-title and list-all-windows. This change and
 	the ones to deskpage.c and miscproc.c are to provide "Schemier"
 	names before the current ones becomes at all established.

	* deskpage.c: Renamed get-display-size, get-desk-size,
 	get-viewport-position and get-current-desk to display-size,
 	desk-size, viewport-position and current-desk respectively.

	* miscprocs.c: Renamed get-pointer-position to pointer-position.

	* events.c: Added error handling to callbacks using
 	call_thunk_with_message_handler.

	* menus.c: Fixed the use of Scheme submenus, and also wrapped
 	callbacks to Scheme code in error handling using
 	call_thunk_with_message_handler.

	* events.c: Added error handling for key and mouse binding
 	callbacks.

	* menus.c: Added correct handling for submenus and error handling
 	for Scheme callbacks.

Fri Sep 19 00:34:05 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* util.c: Added call_thunk_with_message_handler; this will enable
 	us to handle errors in callback code.

	* window.c: Added get-window-position, get-window-size,
 	get-window-id, get-window-desk, get-window-title and
 	get-window-list procedures. It should now be possible to get more
 	useful info on windows at runtime, and also write "window list"
 	type procedures in Scheme.	

Thu Sep 18 01:27:08 1997  Maciej Stachowiak  <mstachow@mit.edu>

	* menu.c: Added a marker for menu objects, so their thunks and
 	submenus don't get GC'd.

	* Imakefile: Added deskpage.c to the build process.

	* deskpage.c: New file. Adds procedures set-current-desk!
  	set-viewport-position!, set-edge-scroll!, set-edge-wrap!,
 	set-edge-resistance!, set-desk-size!, get-display-size,
 	get-desk-size, get-viewport-position, get-current-desk.

	* window.c: Added move-window-to-desk operation.

	* Imakefile: Added paths.c to build process.

	* paths.c: Added set-pixmap-path! and set-icon-path! functions.

Wed Sep 17 09:44:56 1997  Maciej Stachowiak  <mstachow@mit.edu>
	
	* miscprocs.c: Added get-pointer-position, move-pointer-to,
	recapture, restart and wait-for-window procedures.
	
