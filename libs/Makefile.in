#
SHELL=/bin/sh

@SET_MAKE@

VPATH=@srcdir@
top_srcdir=@top_srcdir@
srcdir=@srcdir@
prefix=@prefix@
exec_prefix=@exec_prefix@
lib_dir=@exec_prefix@/lib
x_includes=@x_includes@
x_libraries=@x_libraries@
scwm_icons=@scwm_icons@
scwm_rc=@scwm_rc@
scwm_name=@scwm_name@

EXTRA_DEFINES=-DXPM -DSHAPE -DACTIVEDOWN_BTNS -DINACTIVE_BTNS -DMINI_ICONS -DVECTOR_BUTTONS -DPIXMAP_BUTTONS -DGRADIENT_BUTTONS -DMULTISTYLE -DEXTENDED_TITLESTYLE -DBORDERSTYLE -DUSEDECOR -DWINDOWSHADE


CC=@CC@
INCLUDES=-I../include -I${top_srcdir}/include ${x_includes} -I${prefix}/include
CFLAGS=${INCLUDES} @CFLAGS@ ${EXTRA_DEFINES}
MAKEDEPEND=@MAKEDEPEND@
INSTALL=@INSTALL@
INSTALL_DATA=@INSTALL_DATA@
RM=@RM@
AR=@AR@
RANLIB=@RANLIB@

STATIC_LIB=lib${scwm_name}.a

SRCS=\
	ClientMsg.c \
	GetFont.c \
	Grab.c \
	Module.c \
	Parse.c \
	Picture.c \
	Strings.c \
	System.c \
	envvar.c \
	safemalloc.c \
	sleep.c \
	wild.c


OBJS=\
	ClientMsg.o \
	GetFont.o \
	Grab.o \
	Module.o \
	Parse.o \
	Picture.o \
	Strings.o \
	System.o \
	envvar.o \
	safemalloc.o \
	sleep.o \
	wild.o


all: ${STATIC_LIB}

depend:
	${MAKEDEPEND} ${CFLAGS} ${SRCS}

install: all

mostlyclean:
	${RM} ${OBJS} *~ core *.bak

clean: mostlyclean
	${RM} ${STATIC_LIB}

distclean: clean

${STATIC_LIB}: ${OBJS}
	${AR} ${STATIC_LIB} ${OBJS}
	${RANLIB} ${STATIC_LIB}

%.d: %.c
	$(SHELL) -ec '$(CC) -M $(CFLAGS) $< \
		| sed '\''s/$*\\.o[ :]*/& $@/g'\'' > $@'

include $(SRCS:.c=.d)
