1998-11-22  Todd Larason  <jtl@molehill.org>

	* pie-menus/draw-pie-menu.c: Support for a new menu-look,
	shaped-pie-menu-look -- thanks to Russell Nelson.

Fri Nov 20 02:01:00 1998  Maciej Stachowiak  <mstachow@mit.edu>

	* scwmgtkhelper/scwmgtkhelper.c: New module with a few auxiliary
 	calls to help scwm work sanely when the guile-gtk module is
 	loaded.

	scwmgtkhelper/Makefile.am: Build it when we have Gtk+.
	
	* Makefile.am: Build in scwmgtkhelper subdir.

Tue Nov 17 18:35:01 1998  Maciej Stachowiak  <mstachow@mit.edu>

	* pie-menus/draw-pie-menu.c, xpm-menus/draw-xpm-menu/c: eliminate
 	use of __FUNCTION__.

Sat Nov  7 16:21:55 1998  Maciej Stachowiak  <mstachow@mit.edu>

	* background/background.c (reset_background_x): Added
 	`reset-background!' which should restore the default X background.

1998-11-03  Todd Larason  <jtlmolehill.org>

	* pie-menus/draw-pie-menu.c (PaintMenuItemLabel): fix renamed
	variables in I18N version; Thanks Shuji NARAZAKI!

1998-10-27  Todd Larason  <jtlmolehill.org>

	* applefile: added directory, and Makefile.am, README,
	applefile.[ch], applefile_int.h, applesingledouble.[ch], crc.h,
	macbinary.[ch], make_crc_table.c, resource.[ch].  It compiles, and 
	most of it works, not all of it's tested.  There's no guile
	interface yet, and the directory isn't in the Makefile to be
	compiled.

	* pie-menus/draw-pie-menu.c: use 0 units for separators; this is
	the best looking method I've found
	(ConstructDynamicPieMenuInternal): guard against divide-by-zero if 
	all the menu items are separators. It still won't work *well*, but 
	crashes aren't acceptable

Tue Oct 27 23:09:32 1998  Maciej Stachowiak  <mstachow@mit.edu>

	* c-animation/c-animation.c: New loadable module to allow animated
 	moves and shades. All animation-related stuff from window.c and
 	move.c in the core was moved here. The new primitives are
 	`animated-move-window', `animated-window-shade',
 	`animated-whindow-unshade', and `set-animation!'. The animation
 	delay factor was moved to an `animation-delay' variable declared
 	here. Still needs variable and concept documentation, maybe
 	animated resizes, various flavors of animated iconify.
	
	* c-animation/Makefile.am: Build the c-animation module.

	* Makefile.am: Build new c-animation subdir. 

Thu Oct 22 05:45:16 1998  Maciej Stachowiak  <mstachow@mit.edu>

	* background/background.c: New loadable module to set images or
 	colors as backgrounds. Use it as (app scwm background) and get
 	`set-background-color!' and `set-background-image!'.
  	`make-resized-image' is also provided; it is used internally by
 	set-background-image! to crop or uncrop the image if it is
 	centered rather than tiled.

	* background/Makefile.am: build setup stuff.
	
	* Makefile.am: Build new background subdir.

1998-10-18  Todd Larason  <jtl@teeny.molehill.org>

	* xpm-menus/draw-xpm-menu.c (PaintMenuItem, PaintDynamicMenu,
	ConstructDynamicXpmMenu): look up images with DYNAMIC_SAFE_IMAGE
	so named will work as well as image objects

	* pie-menus/draw-pie-menu.c: menu_look member added to pmdi; used
	to differentiate variations on pie menus.
	(InitGCs): MaskGC initialized;  one-time blocking done here, and
	call moved to CreateDynamicPieMenu
	(PaintDynamicMenu): inactive center only filled in in debug
	builds; I'm not sure which way I prefer. Made attempt at adding
	relief/shadow for circular window for circle-pie-menus; this
	doesn't work well. 
	(ConstructDynamicPieMenuInternal): renamed from
	ConstructDynamicPieMenu; second argument added, menu_look, for
	differentiating between variations.  first menu item's center is
	MENU_ITEM_START (90 degrees), not 0.  If menu_look ==
	circle_pie_menu_look, then keep track of smallest radius that will 
	include all the labels, and shape window into a circle this size.
	(ConstructDynamicPieMenu): New function with an old name; used for 
	creating rectangular-window pie menus
	(ConstructDynamicPieMenuShapeCircle): New function; used for
	creating circule-shaped pie menus
	(init_draw_pie_menu): added documentation for pie-menu-look; new
	menu look circle-pie-menu-look created
	(MENU_PIE_BORDER): Leave more room around pie menus (6 pixels
	instead of 2)
	(struct MenuDrawingInfo_tag): include cpixSideImage and
	SideBGColor again
	(PaintSideImage): included again
	(PaintDynamicMenu): look up images with DYNAMIC_SAFE_IMAGE so
	named will work as well as image objects; paint side image if it's 
	configured
	(ConstructDynamicPieMenuInternal): support background image and
	(rectangular window style only) side image and side image background

1998-10-17  Todd Larason  <jtl@teeny.molehill.org>

	* pie-menus/draw-pie-menu.c: quite a bit of general cleanup;
	#defines removed for things that are completely gone; // comments
	on removed structure members - either removed the line, restored
	the member, or changed to a proper C comment.  Variables renamed
	for consistency.  Edge coordinates and dx/dy added to pmidi to
	draw edge lines.  Edge lines drawn and center inactive circle
	filled in.  Border relieved.  'flyright' menus starting to be
	supported - InPopupZone still always returns False, but when
	popped up by key or time, tries to center on mouse.  Keyboard
	control basically works.  ConstrctDynamicPieMenu cleaned up quite
	a bit, but still needs to be factored out some more - it's way too
	long to be sure it's all right.  Variable-width items beginning to 
	be supported; separators are smaller than real items

1998-10-16  Todd Larason  <jtl@teeny.molehill.org>

	* pie-menus/draw-pie-menu.c: moved from scwm.  First real
	implementation of pie menus.  The layout is still somewhat buggy,
	and several features are missing, but it basically works

	* pie-menus/Makefile.am: added file

	* Makefile.am (SUBDIRS): added pie-menus

Thu Oct 15 08:01:57 1998  Greg Badros  <gjb@cs.washington.edu>

	* overlay-plane/overlay-plane.c: Use GXcopy, not GXset for the GC
	function, and set the foreground color of the clear_gc to 0 before 
	trying to clear.  Still only partial success.

Wed Oct 14 11:08:46 1998  Greg Badros  <gjb@cs.washington.edu>

	* xpm-menus/draw-xpm-menu.c: Added comment re: removing #include
	libguile/dynl.h when guile-1.3 is released-- Blandy fixed
	libguile.h to do the include.

Sun Oct 11 15:19:32 1998  Greg Badros  <gjb@cs.washington.edu>

	* Makefile.am: Added overlay-plane subdir

1998-10-10  Todd Larason  <jtl@teeny.molehill.org>

	* xpm-menus/draw-xpm-menu.c (ConstructDynamicXpmMenu): enforce a
	minimum 4-pixel border width, like KDE; without this, some
	thin-border KDE themes didn't look right

Sat Oct 10 13:59:47 1998  Greg Badros  <gjb@cs.washington.edu>

	* xpm-menus/draw-xpm-menu.c: Added include of libguile/dynl.h
	(should guile's gh.h header include this through libguile.h?)

1998-10-07  Todd Larason  <jtl@teeny.molehill.org>

	* xpm-menus/Makefile.am (INCLUDES): include proper include
	directories -- thanks to Craig Struble

	* xpm-menus/draw-xpm-menu.c: comments added to all the spacing defines;
	(PaintMenuItem): move right side of RR over one to improve
	appearance; move text right by half of MENU_TEXT_SPACING to
	improve appearance
	(InPopupZone): change popop zone from right 1/4 to right 1/2; something
	(ConstructDynamicXpmMenu): compute item width properly - was
	adding an extra MENU_ITEM_RR_SPACE

1998-10-06  Todd Larason  <jtl@teeny.molehill.org>

	* xpm-menus/draw-xpm-menu.c: moved from scwm/;
	(PscwmFontForMenuItem): use scmFixedFont as last-ditch font default
	(ConstructDynamicXpmMenu): use DYNAMIC_SAFE_MENULOOK instead of
	MENULOOK, so scmMenuLook can be a symbol naming a menulook; if
	scmExtraOptions is a symbol, derefence it; if it still isn't a
	list, use the menulook's extra object isntead of the menu's; all
	together, allows easier global customization of menu looks
	(init_draw_xpm_menu): now static
	(scm_init_app_scwm_xpm_menus_module): new function, called to
	register the (app scwm xpm-menus) module

